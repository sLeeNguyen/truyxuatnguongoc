[{"/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/index.js":"1","/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/App.js":"2","/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/reportWebVitals.js":"3","/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/pages/product-info/product.js":"4","/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/config/constants.js":"5","/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/pages/notify.js":"6","/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/pages/traceability/trace.js":"7"},{"size":686,"mtime":1609919410635,"results":"8","hashOfConfig":"9"},{"size":1667,"mtime":1609925293729,"results":"10","hashOfConfig":"9"},{"size":362,"mtime":1609901436667,"results":"11","hashOfConfig":"9"},{"size":4993,"mtime":1609929826760,"results":"12","hashOfConfig":"9"},{"size":83,"mtime":1609915862870,"results":"13","hashOfConfig":"9"},{"size":1020,"mtime":1609930059542,"results":"14","hashOfConfig":"9"},{"size":4877,"mtime":1609930561428,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"ra392w",{"filePath":"19","messages":"20","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"18"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/index.js",[],["33","34"],"/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/App.js",["35","36","37","38"],"import {useState, useEffect} from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\n\nimport './App.css';\nimport Product from './pages/product-info/product';\nimport TraceProduct from './pages/traceability/trace';\nimport {API_URL} from './config/constants';\nimport {notifySuccess, notifyError, notifyInfo} from './pages/notify';\n\nfunction App() {\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n\n  // login to farmer\n  useEffect(() => {\n    fetch(`${API_URL}/authentication`, {\n      method: \"POST\",\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n            username: \"farmer1\",\n            password: \"123456\",\n          }),\n    })\n      .then(res => res.json())\n      .then(\n        (result) => {\n          setIsLoaded(true);\n          if (result.status == \"Failure\") {\n            setError(true);\n            notifyError(\"Lỗi\", result.details);\n          } else {\n            localStorage.setItem(\"token\", result.authorization);\n            localStorage.setItem(\"role\", result.role);\n            notifyInfo(\"Thành công\", \"Đăng nhập thành công\");\n          }\n        },\n        (error) => {\n          notifyError(\"Xảy ra lỗi\", \"\");\n        }\n      )\n  }, [])\n  \n  if (error) {\n    return <div>.</div>;\n  }\n  else if (!isLoaded) {\n    return <div>Loading...</div>\n  } \n  else {\n    return (\n      <Router>\n        <Route path=\"/\" exact component={Product}/>\n        <Route path=\"/traceproduct/:productId\" exact component={TraceProduct}/>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/reportWebVitals.js",[],"/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/pages/product-info/product.js",["39","40"],"import {Component} from 'react';\nimport {Col, Row, Container, Button} from 'react-bootstrap';\nimport {\n    Link\n  } from \"react-router-dom\";\n\nimport '../style.css';\n\nimport {API_URL} from '../../config/constants';\nimport {notifySuccess, notifyError, notifyInfo} from '../notify';\n\nclass Product extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n          product: null\n        };\n    }\n\n    componentDidMount() {\n        fetch(`${API_URL}/getproductbyid?product_id=f1e349f5-96a4-4d19-baef-de5e5ebddb2d`, {\n            method: \"GET\",\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': localStorage.getItem(\"token\")\n            }\n        })\n            .then(res => res.json())\n            .then(\n              (result) => {\n                this.setState({product: result[0]});\n            },\n              (error) => {\n                  console.log(error);\n                notifyError(\"Xảy ra lỗi\", \" \");\n              }\n            );\n    }\n\n    onWatering() {\n        const action = \"Tưới nước\";\n        this.updateProduct(action);\n    }\n\n    onManure() {\n        const action = \"Bón phân\";\n        this.updateProduct(action);\n    }\n\n    onSpray() {\n        const action = \"Phun thuốc sâu\";\n        this.updateProduct(action);\n    }\n\n    async updateProduct(action) {\n        var {product} = this.state\n\n        fetch(`${API_URL}/updateproduct`, {\n            method: \"PUT\",\n            headers: {\n              'Content-Type': 'application/json',\n              'Authorization': localStorage.getItem(\"token\")\n            },\n            body: JSON.stringify({\n                product_id: product.product_id,\n                name: product.name,\n                action: action,\n                time: String(Date.now())\n            })\n        })\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    notifySuccess(\"Thực hiện thành công\", \" \");\n                },\n                (error) => {\n                    notifyError(\"Xảy ra lỗi\", error);\n                }\n            )\n        }\n\n    render() {\n        var {product} = this.state;\n        if (!product) {\n            return <div>loading...</div>\n        }\n        else {\n            return(\n                <Container className=\"py-3 mt-5\">\n                    <Row>\n                        <Col md={8}>\n                            <div className=\"product-box p-3\">\n                                <div className=\"text-center mb-4\">\n                                    <span className=\"product-title font-weight-bold pb-2 px-5\">Thông tin sản phẩm</span>\n                                </div>\n                                <div className=\"px-4 py-2\">\n                                    <Row className=\"py-2\">\n                                        <Col md={5} className=\"label\">Tên sản phẩm</Col>\n                                        <Col md={7}>{product.name}</Col>\n                                    </Row>\n                                    <Row className=\"py-2\">\n                                        <Col md={5} className=\"label\">Mã sản phẩm</Col>\n                                        <Col md={7}>{product.product_id}</Col>\n                                    </Row>\n                                    <Row className=\"py-2\">\n                                        <Col md={5} className=\"label\">Thông tin khởi tạo sản phẩm</Col>\n                                        <Col md={7}>{product.txid.substring(0,30) + \"...\"}</Col>\n                                    </Row>\n                                    <div className=\"d-flex justify-content-center\">\n                                        <div className=\"qrcode pt-4\">\n                                            <Link to={`/traceproduct/${product.product_id}`}><img src=\"https://miro.medium.com/max/1424/1*sHmqYIYMV_C3TUhucHrT4w.png\"/></Link>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </Col>\n                        <Col md={4}>\n                            <div className=\"product-box h-100\">\n                                <div className=\"button-list\">\n                                    <Button variant=\"outline-success font-weight-bold\" onClick={this.onWatering.bind(this)}>Tưới nước</Button>\n                                    <Button variant=\"outline-success font-weight-bold\" onClick={this.onManure.bind(this)}>Bón phân</Button>\n                                    <Button variant=\"outline-success font-weight-bold\" onClick={this.onSpray.bind(this)}>Phun thuốc sâu</Button>\n                                </div>\n                            </div>\n                        </Col>\n                    </Row>\n                </Container>\n            );\n        }\n        \n    }\n}\n\nexport default Product;","/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/config/constants.js",[],"/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/pages/notify.js",[],"/home/leenguyen/Desktop/truyxuatnguongoc/truyxuatnguongoc/src/pages/traceability/trace.js",["41","42","43","44"],{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","severity":1,"message":"50","line":4,"column":3,"nodeType":"51","messageId":"52","endLine":4,"endColumn":9},{"ruleId":"49","severity":1,"message":"53","line":6,"column":3,"nodeType":"51","messageId":"52","endLine":6,"endColumn":7},{"ruleId":"49","severity":1,"message":"54","line":13,"column":9,"nodeType":"51","messageId":"52","endLine":13,"endColumn":22},{"ruleId":"55","severity":1,"message":"56","line":36,"column":29,"nodeType":"57","messageId":"58","endLine":36,"endColumn":31},{"ruleId":"49","severity":1,"message":"59","line":10,"column":37,"nodeType":"51","messageId":"52","endLine":10,"endColumn":47},{"ruleId":"60","severity":1,"message":"61","line":112,"column":94,"nodeType":"62","endLine":112,"endColumn":168},{"ruleId":"49","severity":1,"message":"63","line":4,"column":9,"nodeType":"51","messageId":"52","endLine":4,"endColumn":18},{"ruleId":"49","severity":1,"message":"54","line":7,"column":9,"nodeType":"51","messageId":"52","endLine":7,"endColumn":22},{"ruleId":"49","severity":1,"message":"59","line":7,"column":37,"nodeType":"51","messageId":"52","endLine":7,"endColumn":47},{"ruleId":"64","severity":1,"message":"65","line":84,"column":67,"nodeType":"66","messageId":"67","endLine":84,"endColumn":74},"no-native-reassign",["68"],"no-negated-in-lhs",["69"],"no-unused-vars","'Switch' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","'notifySuccess' is defined but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'notifyInfo' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'useParams' is defined but never used.","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ReturnStatement","expectedReturnValue","no-global-assign","no-unsafe-negation"]